---
sidebar_title: Payments
page_title: UMAP - Notifications & Alerts - Payments
order: 1
visible_in_sidebar: true
---

## Payments Notifications & Alerts

The UMAP platform ensures transparency throughout the transaction process by defining clear statuses that a transaction can assume from initiation to completion. These statuses reflect the transaction's current state, based on the responses received from various entities involved. Understanding these statuses will help merchants manage transactions effectively.

**Payment Initiated:** Marks the beginning of a transaction. This status is set when a customer starts a transaction using a QR Code, In-App Flow, Intent Link, or a Collect request via their personal UPI app. The merchant is immediately notified of this initiation.

**Payment Pending:** Indicates an intermediate, non-terminal state. A transaction enters this status due to various reasons such as system delays, failure in receiving the final notification, or system unavailability during the transaction. It signifies that the transaction is still in progress and has not yet reached a conclusive outcome.

**Payment Successful:** A terminal state signifying a completed transaction. This status is assigned when the transaction is successful, and the funds have been transferred to the merchant. Merchants can proceed with delivering the goods or services to the customer.

**Payment Failed:** Another terminal state, indicating that the transaction did not go through. Reasons for failure might include business declines or technical issues. In this scenario, the merchant has not received the funds, and the goods or services should not be delivered. Merchants are advised to inform the customer of the failure and suggest retrying the transaction.

Understanding these statuses allows merchants and stakeholders to effectively track and manage their transactions, ensuring a smooth operational flow and an optimal customer experience.

<img
  src="https://storage.googleapis.com/strapi-assets/latest/transaction-statuses/transaction-statuses.png"
  alt="Bridge"
/>

### Payment Initiated

This is the webhook notification which is sent to the merchant when a payment is initiated

<CodeBlockWithCopy language="json">
{`{
   // Event attributes
   "eventId": "01ARZ3NDEKTSV4RRFFQ69G5FAV", // Id of an event (unique for each event)
   "eventTs": "2023-09-04 12:08:20.202644 +0530 IST", // Timestamp associated with the event
   "eventType": "payment.initiated",
   // Resource
   "resource": "payment",
   "status": "initiated",
   // Payment context
   "productInstanceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "productInstanceType": "<TYPE>", // collect | intent | mandate (seems like there are 12 types, might have to change this later)
   "merchantReferenceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   // References
   "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   // Payment attributes
   "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "txnId": "SETmBZkQOV0M7wyyP1V4PIFhRSzW5eSjmYI",
   "txnType": "pay", // collect | pay
   // Attributes shared with the platform, when a customer initiates a payment from a payer PSP
   "refId": "SU01ARZ3NDEKTSV4RRFFQ69G5FAV", // tr field in the intent
   "rrn": "124068997913",
   "txnNote": "testpay",
   "amount": 1000,
   "currency": "INR",
   "merchantVpa": "deku20231030@okokaxis",
   "customerVpa": "test-auto-9xsabx8n8x@okokaxis",
   "customerAccountType": "SAVINGS", // SAVINGS, CREDIT,...
   // Reason
   "reason": {} // sample mentioned above
}`}
</CodeBlockWithCopy>

### Payment Pending

This is the webhook notification which is sent to the merchant in case of a deemed transaction. Please note that this is not a terminal status. post which we will send a second notification for the same transaction.  The notification is shared below - 

<CodeBlockWithCopy language="json">
{`{
   // Event attributes
   "eventId": "01ARZ3NDEKTSV4RRFFQ69G5FAV", // Id of an event (unique for each event)
   "eventTs": "2023-09-04 12:08:20.202644 +0530 IST", // Timestamp associated with the event
   "eventType": "payment.pending",
   "resource": "payment",
   "status": "pending",
   // Payment context
   "productInstanceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "productInstanceType": "<type>", // collect | intent | mandate (seems like there are 12 types, might have to change this later)
   // References
   "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "merchantReferenceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   // Payment references
   "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "txnId": "SETmBZkQOV0M7wyyP1V4PIFhRSzW5eSjmYI",
   // mandate reference (in case of mandate related payment)
   "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp",
   // Payment attributes
   "txnType": "pay", // collect | pay
   // Attributes shared with the platform, when a customer initiates a payment from a payer PSP
   "refId": "SU01ARZ3NDEKTSV4RRFFQ69G5FAV", // tr field in the intent
   "rrn": "124068997913",
   "txnNote": "testpay",
   "amount": 1000,
   "currency": "INR",
   "merchantVpa": "deku20231030@okokaxis",
   "customerVpa": "test-auto-9xsabx8n8x@okokaxis",
   "customerAccountType": "SAVINGS", // SAVINGS, CREDIT,...
   // Reason
   "reason": {} // sample mentioned above
}`}
</CodeBlockWithCopy>

### Payment Success

This is the webhook notification which is sent to the merchant in case of a successful payment 

<CodeBlockWithCopy language="json">
{`{
   // Event attributes
   "eventId": "01ARZ3NDEKTSV4RRFFQ69G5FAV", // Id of an event (unique for each event)
   "eventTs": "2023-09-04 12:08:20.202644 +0530 IST", // Timestamp associated with the event
   "eventType": "payment.success",
   "resource": "payment",
   "status": "success",
   // Payment context
   "productInstanceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "productInstanceType": "<type>", // collect | intent | mandate (seems like there are 12 types, might have to change this later)
   // References
   "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "merchantReferenceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   // Payment references
   "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "txnId": "SETmBZkQOV0M7wyyP1V4PIFhRSzW5eSjmYI",
   // mandate reference (in case of mandate related payment)
   "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp",
   // Payment attributes
   "txnType": "pay", // collect | pay
   // Attributes shared with the platform, when a customer initiates a payment from a payer PSP
   "refId": "SU01ARZ3NDEKTSV4RRFFQ69G5FAV", // tr field in the intent
   "rrn": "124068997913",
   "txnNote": "testpay",
   "amount": 1000,
   "currency": "INR",
   "merchantVpa": "deku20231030@okokaxis",
   "customerVpa": "test-auto-9xsabx8n8x@okokaxis",
   "customerAccountType": "SAVINGS", // SAVINGS, CREDIT,...
   // Reason
   "reason": {} // sample mentioned above
}`}
</CodeBlockWithCopy>

### Payment Failed

This is the webhook notification which is sent to the merchant in case of a failed payment. The notification is shared below -

<CodeBlockWithCopy language="json">
{`{
   // Event attributes
   "eventId": "01ARZ3NDEKTSV4RRFFQ69G5FAV", // Id of an event (unique for each event)
   "eventTs": "2023-09-04 12:08:20.202644 +0530 IST", // Timestamp associated with the event
   "eventType": "payment.failed",
   "resource": "payment",
   "status": "failed",
   // Payment context
   "productInstanceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "productInstanceType": "<type>", // collect | intent | mandate (seems like there are 12 types, might have to change this later)
   // References
   "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "merchantReferenceId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   // Payment references
   "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
   "txnId": "SETmBZkQOV0M7wyyP1V4PIFhRSzW5eSjmYI",
   // mandate reference (in case of mandate related payment)
   "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp",
   // Payment attributes
   "txnType": "pay", // collect | pay
   // Attributes shared with the platform, when a customer initiates a payment from a payer PSP
   "refId": "SU01ARZ3NDEKTSV4RRFFQ69G5FAV", // tr field in the intent
   "rrn": "124068997913",
   "txnNote": "testpay",
   "amount": 1000,
   "currency": "INR",
   "merchantVpa": "deku20231030@okokaxis",
   "customerVpa": "test-auto-9xsabx8n8x@okokaxis",
   "customerAccountType": "SAVINGS", // SAVINGS, CREDIT,...
   // Reason
   "reason": {} // sample mentioned above
}
`}
</CodeBlockWithCopy>