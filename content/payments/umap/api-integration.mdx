---
sidebar_title: API Integration
page_title: UMAP - API Integration
order: 2
visible_in_sidebar: true
---

## API Guide

#### API URLs

-   Sandbox `https://umap-dev-core.setu.co/`
-   Production `https://umap.setu.co/`

#### Headers

These will be applicable to all the APIs you call, unless specified otherwise-

-   `authorisation` - Bearer <`insert_token_here`>. This token can be generated via the **Generate Access Token API**
-   `Content-Type` - Set this to `application/json`

### Generate Access Token API

An API to generate access tokens, which are used to authorise any other API requests made to Setu.

**Request**

<table>
    <tr>
        <th>Method</th>
        <td>POST</td>
    </tr>
    <tr>
        <th>Path</th>
        <td>/auth/token </td>
    </tr>
</table>

<br />

**Request Body**

<CodeBlockWithCopy language="json">
    {`
  { 
    "client_id": "client_id", 
    "client_secret": "client_secret", 
    "grant_type": "client_credentials" 
  }
  `}
</CodeBlockWithCopy>

<Callout type='tip'>
ðŸ’¡ Since this API is used to generate the <b>Bearer Token</b> the <code>authorisation</code> header shouldnâ€™t be included in the API call. The <code>Content-Type</code> should still be included in the the header

</Callout>
<br />

**Response**

<CodeBlockWithCopy language="json">
    {`
  {
      "accessToken': "your_access_token",
  }
  `}
</CodeBlockWithCopy>

<Callout type="tip">
    ðŸ’¡ <code>accessToken</code> is are valid for 7 days.
</Callout>

##### How to use the access token

Once you have a valid token available against product configuration(s), you can store it and use it to authorise an API call made to Setu, by setting the `authorization` request header as `Bearer <token-value>`.

**On expiry**

Implement a workflow to generate new token when the old one expires. The general setup might look something like thisâ€”

-   Store `clientID` and `secret`.
-   Generate new token with stored `clientID` and `secret` when token has expired. If the API you call returns `401 unauthorized`, it could be an indication that the token has expired.
-   Store the newly generated token and use for subsequent API calls.

#### Start integration

You can use the API credentials provided by Setu to test UMAP on sandbox

<Row>
    <Portion desktopSpan="half">
        <Card padding="small" shape="rounded">
            <Text
                size="small"
                weight="600"
                textColor="slate-60"
                marginBottom="micro"
            >
                READ NEXT &rarr;
            </Text>
            <p>For Aggregators</p>
            <a
                href="/payments/umap/api-integration/aggregators"
                target="_blank"
            >
                Start API integration ->
            </a>
        </Card>
    </Portion>
    <Portion desktopSpan="half">
        <Card padding="small" shape="rounded">
            <Text
                size="small"
                weight="600"
                textColor="slate-60"
                marginBottom="micro"
            >
                READ NEXT &rarr;
            </Text>
            <p>For Merchants</p>
            <a href="/payments/umap/api-integration/merchants" target="_blank">
                Start API integration ->
            </a>
        </Card>
    </Portion>
</Row>

<WasPageHelpful />
