---
sidebar_title: Pre Debit Notify
page_title: UMAP - Mandates - Send Recurring Mandate Pre Debit Notification
order: 2
visible_in_sidebar: true
---

## Send a pre debit notification

<Card padding="small" shape="rounded">
    <a href="/payments/umap/mandates/recurring/create" target="_blank">
        Create recurring mandate ↗
    </a>
    <p>
        Read about recurring mandate creation, if you haven't already
    </p>
</Card>

<hr class="primary"/>

Once the mandate is **LIVE** the merchant needs to send a pre debit notification 48 - 72 Hrs before debit / execution to let the customer be notified of the upcoming debit.

<Callout type="tip">
    Merchant intervention is only needed for a pre debit notification if <code>autoExecute</code> and <code>autoPreNotify</code> are set to <code>false</code> while creating a mandate 
</Callout>

The process for mandate pre debit notification is described in the below diagram:

<img
  src="https://storage.googleapis.com/strapi-assets/latest/mandate-pre-debit-notification/mandate-pre-debit-notification.png"
  alt="Bridge"
/>

The merchant will have to call the **<i>send mandate pre debit notification API</i>** with the correct set of parameters.

<table>
    <tbody>
        <tr>
            <th>Staging Host</th>
            <td>
                <code>https://umap-dev-core.setu.co/api/v1</code>
            </td>
        </tr>
        <tr>
            <th>Method</th>
            <td>
                <code>POST</code>
            </td>
        </tr>
        <tr>
            <th>Path</th>
            <td>
                <code>/merchants/mandates&#123;mandateId&#125;notify</code>
            </td>
        </tr>
        <tr>
            <th>Header</th>
            <td>
                <code>merchantId</code><br/>
                <code>Authorization</code>: Bearer &lt;<b>insert_token_here</b>&gt;.
                Generate this token using <a
                    href="/payments/upi-deeplinks/resources/oauth"
                    target="_blank">
                    OAuth
                </a> or <a
                    href="/payments/upi-deeplinks/resources/jwt"
                    target="_blank">
                    JWT
                </a>.<br />
                <br />
                <code>Content-Type</code>—will be <code>application/json</code>
            </td>
        </tr>
    </tbody>
</table>

###### Sample request

<CodeBlockWithCopy language="json">
    {`{
    "amount": 1000,
    "executionDate": "04012006",
    "merchantReferenceId": "ABC1234789",
    "sequenceNumber": 1,
    "umn": "setumandate1234789@ybl"
}`}
</CodeBlockWithCopy>

<Callout type="warning">
    <ul>
        <li><code>amount</code> must be as per the <code>amountRule</code> and <code>maxAmountLimit</code> configured while creating the mandate.</li>
        <li><code>executionDate</code> must be <code>48 - 72 Hrs</code> ahead of current time.</li>
    </ul>
</Callout>

<Callout type="note">
    <ul>
        <li><code>umn</code> can be derived from the notifications received by the merchant during mandate creation flow or via check mandate status API</li>
    </ul>
</Callout>

###### Sample response

<CodeBlockWithCopy language="json">
    {`{
  "amount": 1000,
  "createdAt": "2023-09-04 12:08:20.202644 +0530 IST",
  "executionDate": "04012006",
  "id": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "mandateId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantId": "01ARZ3NDEKTSV4RRFFQ69G5FAV",
  "merchantReferenceId": "ABC1234789",
  "sequenceNumber": 1,
  "status": "pending",
  "txnId": "BTTZrc5gDFkuCr3n3I0ey4aNtzLOLR7K7aR",
  "umn": "c27f5fc30d344e9594fce0afa34f8859@mypsp"
}`}
</CodeBlockWithCopy>

**In the above response:**

-   `id` is a unique ID that is associated with this mandate pre debit notification and can be used to track it later.

To know more about all the API params, please refer to the API documentation <a href="/payments/umap/api-reference#/category~mandates/operation~mandates#notify" target="_blank">here</a>.

UMAP will send notifications to the merchant once **<i>the pre-debit notification operation is completed</i>** and **<i>the final status of the mandate.</i>**

<Callout type="highlight">
    If <code>autoExecute</code> and <code>autoPreNotify</code> are set to <code>true</code> while creating a mandate, UMAP will schedule pre debit notifications and send notifications to the merchant for <code>pre debit notification confirmation</code> and <code>mandate status</code> in every recurrence cycle
</Callout>

Please refer to the Document Reference section for checking the API reference and the notifications.

<NextPage
    info={{
        description: "Execute mandate.  ",
        slug: "/payments/umap/mandates/recurring/execute",
        title: "Execute mandate",
    }}
/>